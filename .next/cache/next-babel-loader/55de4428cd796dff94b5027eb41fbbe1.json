{"ast":null,"code":"var _jsxFileName = \"/Users/min/Desktop/Heythere/heythere-client/src/pages/login.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport CookieCutter from 'cookie-cutter';\nexport default function Login() {\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  useEffect(() => {\n    if (CookieCutter.get(\"token\")) {\n      window.location.href = \"/\";\n    }\n  }, []);\n\n  async function submitHandler() {\n    const payload = {\n      email: email.trim(),\n      password: password.trim()\n    };\n    await axios.post(\"http://localhost:8080/auth/login\", payload).then(async response => {\n      const {\n        status,\n        data\n      } = response;\n      const res = data;\n\n      if (status === 200 && data) {\n        const {\n          id,\n          accessToken,\n          tokenType\n        } = res;\n        sessionStorage.setItem(\"token\", `${tokenType} ${accessToken}`);\n        CookieCutter.set(\"token\", `${accessToken}`);\n        CookieCutter.set(\"tokenType\", \"Bearer\");\n        CookieCutter.set(\"id\", id);\n        window.location.href = \"http://localhost:3000\";\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n\n  return __jsx(\"div\", {\n    className: \"main-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"login-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Heythere!\"), __jsx(\"input\", {\n    type: \"email\",\n    placeholder: \"email\",\n    className: \"box1 border1\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"password\",\n    className: \"box1 border2\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"submit\",\n    className: \"send\",\n    value: \"Go\",\n    onClick: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"Join Today \", __jsx(\"a\", {\n    href: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 31\n    }\n  }, \"click here\"))), __jsx(\"style\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, `\n*{\n    margin: 0;\n    padding: 0;\n    border: 0;\n    text-decoration: none;\n  outline:none;\n}\nbody,a{\n    font-family: calibri;\n    font-size: 14px;\n    font-weight: normal;\n    color: #3B424D;\n    \n}\n.main-wrap{\n    background: #FF5335;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n}\n.login-main{\n    width: 300px;\n    height: 158px;\n    position: absolute;\n    margin: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background:#fcb1ac;\n    padding: 10px;\n    border-radius: 10px;\n}\n\n.login-main p {\n    text-indent:10px;\n}\n\n.box1{\n    background: lighten(#FF5335, 30%);\n    height: 40px;\n    text-indent: 10px;\n    width: 90%;\n    margin-bottom: 2px;\n    color: #FF5335;\n    font-size: 15px;\n    font-weight: 400;\n}\n.border1{\n    border-radius: 5px 5px 0 0;\n}\n.border2{\n    border-radius: 0px 0 5px 5px;\n}\n\n.send{\n\n    width:  60px;\n    height: 60px;\n    border-radius: 50%;\n    position: absolute;\n    right: 9px;\n    top: 20px;\n    border: 5px solid lighten(#FF5335, 10%);\n    background: #FF5335;\n    font-size: 18px;\n    color: #fff;\n    font-weight: normal;\n    text-shadow: 1px 1px 2px #000;\n    box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    \n}\n\n.send:hover {\n    animation: spin 0.3s ease-in-out;\n    -webkit-animation: spin 0.3s ease-in-out;\n    -moz-animation: spin 0.3s ease-in-out;\n    -ms-animation: spin 0.3s ease-in-out;\n    -o-animation: spin 0.3s ease-in-out;\n    cursor: pointer;\n}\n\n\n@keyframes spin{\n    from{\n        transform: rotate(0deg);\n    }\n    to{\n        transform: rotate(360deg);\n    }\n}\n@-webkit-keyframes spin{\n    from{\n        -webkit-transform: rotate(0deg);\n    }\n    to{\n        -webkit-transform: rotate(360deg);\n    }\n}\n@-moz-keyframes spin{\n    from{\n        -moz-transform: rotate(0deg);\n    }\n    to{\n        -moz-transform: rotate(360deg);\n    }\n}\n@-o-keyframes spin{\n    from{\n        -o-transform: rotate(0deg);\n    }\n    to{\n        -o-transform: rotate(360deg);\n    }\n}\n\n\n            `));\n}","map":{"version":3,"sources":["/Users/min/Desktop/Heythere/heythere-client/src/pages/login.tsx"],"names":["React","useState","useEffect","axios","CookieCutter","Login","email","setEmail","password","setPassword","get","window","location","href","submitHandler","payload","trim","post","then","response","status","data","res","id","accessToken","tokenType","sessionStorage","setItem","set","catch","err","console","error","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport CookieCutter from 'cookie-cutter'\n\ninterface LoginFormRequestDto {\n    email: string;\n    password: string;\n}\n\ninterface AuthResponse {\n    id: number;\n    accessToken: string;\n    tokenType: string;\n}\n\ninterface UserResponse {\n    id: number;\n    email: string;\n    name: string;\n    img?: string;\n}\n\nexport default function Login() {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    useEffect(() => {\n        if (CookieCutter.get(\"token\")) {\n            window.location.href = \"/\"\n        }\n    }, []);\n\n\n    async function submitHandler() {\n        const payload: LoginFormRequestDto = {email: email.trim(), password: password.trim()};\n\n        await axios.post(\"http://localhost:8080/auth/login\", payload)\n            .then(async response => {\n                const {status, data} = response;\n                const res: AuthResponse = data;\n\n                if (status === 200 && data) {\n                    const {id, accessToken, tokenType} = res;\n                    sessionStorage.setItem(\"token\",`${tokenType} ${accessToken}`);\n                    CookieCutter.set(\"token\", `${accessToken}`);\n                    CookieCutter.set(\"tokenType\", \"Bearer\")\n                    CookieCutter.set(\"id\", id);\n\n                    window.location.href = \"http://localhost:3000\";\n                }\n            })\n            .catch(err => {\n                console.error(err);\n            })\n\n\n    }\n\n    return (\n        <div className=\"main-wrap\">\n            <div className=\"login-main\">\n                <h1>Heythere!</h1>\n                <input type=\"email\" placeholder=\"email\" className=\"box1 border1\"\n                       onChange={(e) => setEmail(e.target.value)}/>\n                <input type=\"password\" placeholder=\"password\" className=\"box1 border2\"\n                       onChange={e => setPassword(e.target.value)}/>\n                <input type=\"submit\" className=\"send\" value=\"Go\" onClick={submitHandler}/>\n                <div className=\"message\"></div>\n                <p>Join Today <a href=\"/register\">click here</a></p>\n            </div>\n            <style>{`\n*{\n    margin: 0;\n    padding: 0;\n    border: 0;\n    text-decoration: none;\n  outline:none;\n}\nbody,a{\n    font-family: calibri;\n    font-size: 14px;\n    font-weight: normal;\n    color: #3B424D;\n    \n}\n.main-wrap{\n    background: #FF5335;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n}\n.login-main{\n    width: 300px;\n    height: 158px;\n    position: absolute;\n    margin: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background:#fcb1ac;\n    padding: 10px;\n    border-radius: 10px;\n}\n\n.login-main p {\n    text-indent:10px;\n}\n\n.box1{\n    background: lighten(#FF5335, 30%);\n    height: 40px;\n    text-indent: 10px;\n    width: 90%;\n    margin-bottom: 2px;\n    color: #FF5335;\n    font-size: 15px;\n    font-weight: 400;\n}\n.border1{\n    border-radius: 5px 5px 0 0;\n}\n.border2{\n    border-radius: 0px 0 5px 5px;\n}\n\n.send{\n\n    width:  60px;\n    height: 60px;\n    border-radius: 50%;\n    position: absolute;\n    right: 9px;\n    top: 20px;\n    border: 5px solid lighten(#FF5335, 10%);\n    background: #FF5335;\n    font-size: 18px;\n    color: #fff;\n    font-weight: normal;\n    text-shadow: 1px 1px 2px #000;\n    box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    \n}\n\n.send:hover {\n    animation: spin 0.3s ease-in-out;\n    -webkit-animation: spin 0.3s ease-in-out;\n    -moz-animation: spin 0.3s ease-in-out;\n    -ms-animation: spin 0.3s ease-in-out;\n    -o-animation: spin 0.3s ease-in-out;\n    cursor: pointer;\n}\n\n\n@keyframes spin{\n    from{\n        transform: rotate(0deg);\n    }\n    to{\n        transform: rotate(360deg);\n    }\n}\n@-webkit-keyframes spin{\n    from{\n        -webkit-transform: rotate(0deg);\n    }\n    to{\n        -webkit-transform: rotate(360deg);\n    }\n}\n@-moz-keyframes spin{\n    from{\n        -moz-transform: rotate(0deg);\n    }\n    to{\n        -moz-transform: rotate(360deg);\n    }\n}\n@-o-keyframes spin{\n    from{\n        -o-transform: rotate(0deg);\n    }\n    to{\n        -o-transform: rotate(360deg);\n    }\n}\n\n\n            `}</style>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}