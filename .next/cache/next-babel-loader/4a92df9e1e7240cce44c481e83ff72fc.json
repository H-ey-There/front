{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/min/Desktop/Heythere/heythere-client/src/components/main/LoginBox.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\nimport Button from \"@material-ui/core/Button\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport axios from \"axios\";\nvar useStyles = makeStyles(function (theme) {\n  return createStyles({\n    root: {\n      margin: theme.spacing(1)\n    }\n  });\n});\nexport default function LoginBox() {\n  _s();\n\n  var classes = useStyles();\n\n  var _useState = useState(\"\"),\n      email = _useState[0],\n      setMail = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      password = _useState2[0],\n      setPwd = _useState2[1];\n\n  var onEmailInputHandler = function onEmailInputHandler(e) {\n    e.preventDefault();\n    setMail(e.target.value);\n  };\n\n  var onPwdInputHandler = function onPwdInputHandler(e) {\n    e.preventDefault();\n    setPwd(e.target.value);\n  };\n\n  var loginSubmitHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var data, response, responseData, accessToken, tokenType;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              data = {\n                email: email,\n                password: password\n              };\n              response = axios.post(\"http://localhost:8080/auth/login\", data, null);\n              _context.next = 5;\n              return response;\n\n            case 5:\n              responseData = _context.sent.data;\n              accessToken = responseData.accessToken, tokenType = responseData.tokenType;\n              localStorage.setItem(\"token\", \"\".concat(tokenType, \" \").concat(accessToken));\n              console.log(localStorage.getItem(\"token\"));\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loginSubmitHandler(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, __jsx(AccountCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, __jsx(TextField, {\n    id: \"input-with-icon-grid\",\n    type: \"email\",\n    label: \"Email\",\n    onChange: onEmailInputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }))), __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, __jsx(VpnKeyIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, __jsx(TextField, {\n    id: \"input-with-icon-grid\",\n    type: \"password\",\n    label: \"Password\",\n    onChange: onPwdInputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }))), __jsx(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    size: \"large\",\n    onClick: loginSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"Login Now!\"))));\n}\n\n_s(LoginBox, \"b7tlF6xz+6OX4QS5jF+JBSiT3U0=\", false, function () {\n  return [useStyles];\n});\n\n_c = LoginBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginBox\");","map":{"version":3,"sources":["/Users/min/Desktop/Heythere/heythere-client/src/components/main/LoginBox.tsx"],"names":["React","useState","createStyles","makeStyles","TextField","Grid","AccountCircle","VpnKeyIcon","Button","CardActions","axios","useStyles","theme","root","margin","spacing","LoginBox","classes","email","setMail","password","setPwd","onEmailInputHandler","e","preventDefault","target","value","onPwdInputHandler","loginSubmitHandler","data","response","post","responseData","accessToken","tokenType","localStorage","setItem","console","log","getItem"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\nimport Button from \"@material-ui/core/Button\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport axios from \"axios\"\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root : {\n            margin: theme.spacing(1),\n        },\n    }),\n);\n\nexport default function LoginBox() {\n    const classes = useStyles();\n    const [email, setMail] = useState(\"\");\n    const [password, setPwd] = useState(\"\")\n\n\n    const onEmailInputHandler = e => {\n        e.preventDefault();\n        setMail(e.target.value);\n    }\n\n    const onPwdInputHandler = e => {\n        e.preventDefault();\n        setPwd(e.target.value);\n    }\n\n    interface LoginDto {\n        email: string,\n        password: string\n    }\n\n    interface LoginResponse {\n        accessToken: string,\n        tokenType: string\n    }\n\n    const loginSubmitHandler = async e => {\n        e.preventDefault();\n        const data: LoginDto = {\n            email,\n            password\n        };\n\n        const response = axios.post(\"http://localhost:8080/auth/login\", data, null);\n        const responseData: LoginResponse = (await response).data;\n        const {accessToken, tokenType} = responseData;\n\n        localStorage.setItem(\"token\", `${tokenType} ${accessToken}`);\n        console.log(localStorage.getItem(\"token\"))\n\n\n    }\n\n\n    return (\n        <div>\n            <div className={classes.root}>\n                <Grid container spacing={1} alignItems=\"flex-end\">\n                    <Grid item>\n                        <AccountCircle />\n                    </Grid>\n                    <Grid item>\n                        <TextField\n                            id=\"input-with-icon-grid\"\n                            type=\"email\"\n                            label=\"Email\"\n                            onChange={onEmailInputHandler}\n                        />\n                    </Grid>\n                </Grid>\n                <Grid container spacing={1} alignItems=\"flex-end\">\n                    <Grid item>\n                        <VpnKeyIcon />\n                    </Grid>\n                    <Grid item>\n                        <TextField\n                            id=\"input-with-icon-grid\"\n                            type=\"password\"\n                            label=\"Password\"\n                            onChange={onPwdInputHandler}\n                        />\n                    </Grid>\n                </Grid>\n                <CardActions>\n                    <Button  size=\"large\" onClick={loginSubmitHandler}>Login Now!</Button>\n                </CardActions>\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}