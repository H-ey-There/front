{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/min/Desktop/Heythere/heythere-client/src/components/modal/video-upload-modal.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme } from '@material-ui/core/styles';\nimport { TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nexport default function VideoUploadModal() {\n  _s();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var theme = useTheme();\n  var fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n  var _useState = useState(\"\"),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      description = _useState2[0],\n      setDescription = _useState2[1];\n\n  var _useState3 = useState({\n    preview: \"\",\n    raw: \"\"\n  }),\n      thumbnail = _useState3[0],\n      setThumbnail = _useState3[1];\n\n  var _useState4 = useState({\n    preview: \"\",\n    raw: \"\"\n  }),\n      video = _useState4[0],\n      setVideo = _useState4[1];\n\n  function onSubmitHandler() {\n    return _onSubmitHandler.apply(this, arguments);\n  }\n\n  function _onSubmitHandler() {\n    _onSubmitHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var form, response, status, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              form = new FormData();\n              form.append(\"requestUserId\", 1);\n              form.append(\"title\", title);\n              form.append(\"description\", description);\n              form.append(\"thumbnail\", thumbnail.raw);\n              form.append(\"video\", video.raw);\n              _context.next = 8;\n              return axios.post(\"http://localhost:8082/registration\");\n\n            case 8:\n              response = _context.sent;\n              status = response.status, data = response.data;\n\n              if (status === 201) {\n                console.log(data);\n              }\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _onSubmitHandler.apply(this, arguments);\n  }\n\n  function thumbnailFileChangeHandler(e) {\n    console.log(\"thumbnail : \".concat(e.target.files[0]));\n    setThumbnail({\n      preview: URL.createObjectURL(e.target.files[0]),\n      raw: e.target.files[0]\n    });\n  }\n\n  function videoFileChangeHandler(e) {\n    console.log(\"video : \".concat(e.target.files[0]));\n    setVideo({\n      preview: URL.createObjectURL(e.target.files[0]),\n      raw: e.target.files[0]\n    });\n  }\n\n  var handleClickOpen = function handleClickOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    src: \"/icons/video-plus.svg\",\n    onClick: handleClickOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), __jsx(Dialog, {\n    fullScreen: fullScreen,\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"responsive-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(DialogTitle, {\n    id: \"responsive-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Video Upload\"), __jsx(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, __jsx(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, __jsx(\"form\", {\n    action: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, __jsx(TextField, {\n    label: \"video title\",\n    onChange: function onChange(e) {\n      return setTitle(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }), __jsx(TextField, {\n    label: \"video description\",\n    onChange: function onChange(e) {\n      return setDescription(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }), __jsx(\"input\", {\n    type: \"file\",\n    onChange: thumbnailFileChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }), __jsx(\"input\", {\n    type: \"file\",\n    onChange: videoFileChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  })))), __jsx(\"img\", {\n    src: thumbnail.preview,\n    alt: \"thumbnail preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), __jsx(\"img\", {\n    src: video.preview,\n    alt: \"video preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), __jsx(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    autoFocus: true,\n    onClick: handleClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, \"Disagree\"), __jsx(Button, {\n    onClick: onSubmitHandler,\n    color: \"primary\",\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, \"Agree\"))));\n}\n\n_s(VideoUploadModal, \"OQJAqYA69IhInTb4s/wDsvaF3DQ=\", false, function () {\n  return [useTheme, useMediaQuery];\n});\n\n_c = VideoUploadModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoUploadModal\");","map":{"version":3,"sources":["/Users/min/Desktop/Heythere/heythere-client/src/components/modal/video-upload-modal.tsx"],"names":["React","useState","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","useMediaQuery","useTheme","TextField","axios","VideoUploadModal","open","setOpen","theme","fullScreen","breakpoints","down","title","setTitle","description","setDescription","preview","raw","thumbnail","setThumbnail","video","setVideo","onSubmitHandler","form","FormData","append","post","response","status","data","console","log","thumbnailFileChangeHandler","e","target","files","URL","createObjectURL","videoFileChangeHandler","handleClickOpen","handleClose","value"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,SAAQC,QAAR,QAAuB,0BAAvB;AACA,SAAQC,SAAR,QAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,gBAAT,GAA4B;AAAA;;AAAA,wBACfZ,KAAK,CAACC,QAAN,CAAe,KAAf,CADe;AAAA;AAAA,MAChCY,IADgC;AAAA,MAC1BC,OAD0B;;AAEvC,MAAMC,KAAK,GAAGN,QAAQ,EAAtB;AACA,MAAMO,UAAU,GAAGR,aAAa,CAACO,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,CAAhC;;AAHuC,kBAKbjB,QAAQ,CAAC,EAAD,CALK;AAAA,MAKhCkB,KALgC;AAAA,MAKzBC,QALyB;;AAAA,mBAMDnB,QAAQ,CAAC,EAAD,CANP;AAAA,MAMhCoB,WANgC;AAAA,MAMnBC,cANmB;;AAAA,mBAOLrB,QAAQ,CAAC;AAACsB,IAAAA,OAAO,EAAE,EAAV;AAAcC,IAAAA,GAAG,EAAE;AAAnB,GAAD,CAPH;AAAA,MAOhCC,SAPgC;AAAA,MAOrBC,YAPqB;;AAAA,mBAQbzB,QAAQ,CAAC;AAACsB,IAAAA,OAAO,EAAE,EAAV;AAAcC,IAAAA,GAAG,EAAE;AAAnB,GAAD,CARK;AAAA,MAQhCG,KARgC;AAAA,MAQzBC,QARyB;;AAAA,WAUxBC,eAVwB;AAAA;AAAA;;AAAA;AAAA,gFAUvC;AAAA;AAAA;AAAA;AAAA;AAAA;AACUC,cAAAA,IADV,GACiB,IAAIC,QAAJ,EADjB;AAEID,cAAAA,IAAI,CAACE,MAAL,CAAY,eAAZ,EAA6B,CAA7B;AACAF,cAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBb,KAArB;AACAW,cAAAA,IAAI,CAACE,MAAL,CAAY,aAAZ,EAA2BX,WAA3B;AACAS,cAAAA,IAAI,CAACE,MAAL,CAAY,WAAZ,EAAyBP,SAAS,CAACD,GAAnC;AACAM,cAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBL,KAAK,CAACH,GAA3B;AANJ;AAAA,qBAQ2Bb,KAAK,CAACsB,IAAN,CAAW,oCAAX,CAR3B;;AAAA;AAQUC,cAAAA,QARV;AASYC,cAAAA,MATZ,GAS6BD,QAT7B,CASYC,MATZ,EASoBC,IATpB,GAS6BF,QAT7B,CASoBE,IATpB;;AAUI,kBAAID,MAAM,KAAK,GAAf,EAAoB;AAChBE,gBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACH;;AAZL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAVuC;AAAA;AAAA;;AA0BvC,WAASG,0BAAT,CAAoCC,CAApC,EAAuC;AACnCH,IAAAA,OAAO,CAACC,GAAR,uBAA2BE,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAA3B;AACAhB,IAAAA,YAAY,CAAC;AACTH,MAAAA,OAAO,EAAEoB,GAAG,CAACC,eAAJ,CAAoBJ,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAApB,CADA;AAETlB,MAAAA,GAAG,EAAEgB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf;AAFI,KAAD,CAAZ;AAIH;;AAED,WAASG,sBAAT,CAAgCL,CAAhC,EAAmC;AAC/BH,IAAAA,OAAO,CAACC,GAAR,mBAAuBE,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAvB;AAEAd,IAAAA,QAAQ,CAAC;AACLL,MAAAA,OAAO,EAAEoB,GAAG,CAACC,eAAJ,CAAoBJ,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAApB,CADJ;AAELlB,MAAAA,GAAG,EAAEgB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf;AAFA,KAAD,CAAR;AAIH;;AAED,MAAMI,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC1BhC,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAFD;;AAIA,MAAMiC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtBjC,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAFD;;AAIA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAC,uBAAT;AAAiC,IAAA,OAAO,EAAEgC,eAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI,MAAC,MAAD;AACI,IAAA,UAAU,EAAE9B,UADhB;AAEI,IAAA,IAAI,EAAEH,IAFV;AAGI,IAAA,OAAO,EAAEkC,WAHb;AAII,uBAAgB,yBAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMI,MAAC,WAAD;AAAa,IAAA,EAAE,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2C,cAA3C,CANJ,EAOI,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,MAAM,EAAC,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,SAAD;AAAY,IAAA,KAAK,EAAC,aAAlB;AAAgC,IAAA,QAAQ,EAAE,kBAAAP,CAAC;AAAA,aAAIpB,QAAQ,CAACoB,CAAC,CAACC,MAAF,CAASO,KAAV,CAAZ;AAAA,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII,MAAC,SAAD;AAAY,IAAA,KAAK,EAAC,mBAAlB;AAAsC,IAAA,QAAQ,EAAE,kBAAAR,CAAC;AAAA,aAAIlB,cAAc,CAACkB,CAAC,CAACC,MAAF,CAASO,KAAV,CAAlB;AAAA,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,QAAQ,EAAET,0BAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,EAOI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,QAAQ,EAAEM,sBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,CADJ,CADJ,CAPJ,EAwBI;AAAK,IAAA,GAAG,EAAEpB,SAAS,CAACF,OAApB;AAA6B,IAAA,GAAG,EAAC,mBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBJ,EAyBI;AAAK,IAAA,GAAG,EAAEI,KAAK,CAACJ,OAAhB;AAAyB,IAAA,GAAG,EAAC,eAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBJ,EA0BI,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,MAAD;AAAQ,IAAA,SAAS,MAAjB;AAAkB,IAAA,OAAO,EAAEwB,WAA3B;AAAwC,IAAA,KAAK,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAII,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAElB,eAAjB;AAAkC,IAAA,KAAK,EAAC,SAAxC;AAAkD,IAAA,SAAS,MAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJJ,CA1BJ,CAHJ,CADJ;AA0CH;;GA7FuBjB,gB;UAENH,Q,EACKD,a;;;KAHCI,gB","sourcesContent":["import React, {useState} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {useTheme} from '@material-ui/core/styles';\nimport {TextField} from \"@material-ui/core\";\nimport axios from \"axios\";\n\nexport default function VideoUploadModal() {\n    const [open, setOpen] = React.useState(false);\n    const theme = useTheme();\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [thumbnail, setThumbnail] = useState({preview: \"\", raw: \"\"});\n    const [video, setVideo] = useState({preview: \"\", raw: \"\"});\n\n    async function onSubmitHandler () {\n        const form = new FormData();\n        form.append(\"requestUserId\", 1);\n        form.append(\"title\", title);\n        form.append(\"description\", description);\n        form.append(\"thumbnail\", thumbnail.raw);\n        form.append(\"video\", video.raw);\n\n        const response = await axios.post(\"http://localhost:8082/registration\");\n        const { status, data } = response;\n        if (status === 201) {\n            console.log(data);\n        }\n\n    }\n\n    function thumbnailFileChangeHandler(e) {\n        console.log(`thumbnail : ${e.target.files[0]}`);\n        setThumbnail({\n            preview: URL.createObjectURL(e.target.files[0]),\n            raw: e.target.files[0],\n        });\n    }\n\n    function videoFileChangeHandler(e) {\n        console.log(`video : ${e.target.files[0]}`);\n\n        setVideo({\n            preview: URL.createObjectURL(e.target.files[0]),\n            raw: e.target.files[0],\n        });\n    }\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <div>\n            <img src=\"/icons/video-plus.svg\" onClick={handleClickOpen}/>\n\n            <Dialog\n                fullScreen={fullScreen}\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"responsive-dialog-title\"\n            >\n                <DialogTitle id=\"responsive-dialog-title\">{\"Video Upload\"}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        <form action=\"\">\n                            <TextField  label=\"video title\" onChange={e => setTitle(e.target.value)}/>\n                            <br/>\n                            <br/>\n                            <TextField  label=\"video description\" onChange={e => setDescription(e.target.value)} />\n                            <br/>\n                            <input type=\"file\" onChange={thumbnailFileChangeHandler}/>\n                            <input type=\"file\" onChange={videoFileChangeHandler}/>\n                            \n                            <br/>\n\n                        </form>\n                    </DialogContentText>\n                </DialogContent>\n\n                <img src={thumbnail.preview} alt=\"thumbnail preview\"/>\n                <img src={video.preview} alt=\"video preview\"/>\n                <DialogActions>\n                    <Button autoFocus onClick={handleClose} color=\"primary\">\n                        Disagree\n                    </Button>\n                    <Button onClick={onSubmitHandler} color=\"primary\" autoFocus>\n                        Agree\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}